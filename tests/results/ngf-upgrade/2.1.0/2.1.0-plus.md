# Results

## Test environment

NGINX Plus: true

NGINX Gateway Fabric:

- Commit: 43424f7eafc27e3fed07cef693614a7f389a3359
- Date: 2025-08-12T16:35:50Z
- Dirty: false

GKE Cluster:

- Node count: 12
- k8s version: v1.33.2-gke.1240000
- vCPUs per node: 16
- RAM per node: 65851524Ki
- Max pods per node: 110
- Zone: us-west1-b
- Instance Type: n2d-standard-16

## Summary:

- This is the first test result since the 2.0 architecture change since you cannot upgrade from 1.6 -> 2.0. With this test setup, there is downtime when upgrading NGF. 
- There is a manual workaround for this release which involves uninstalling then re-installing NGF, which should lead to no downtime on the data plane. Hopefully our new readiness probe will fix this issue in the next release.

## Test: Send http /coffee traffic

```text
Requests      [total, rate, throughput]         6000, 100.01, 21.19
Duration      [total, attack, wait]             1m27s, 59.992s, 26.893s
Latencies     [min, mean, 50, 90, 95, 99, max]  334.577µs, 12.057s, 5.704s, 30.001s, 30.001s, 30.001s, 30.002s
Bytes In      [total, mean]                     294560, 49.09
Bytes Out     [total, mean]                     0, 0.00
Success       [ratio]                           30.68%
Status Codes  [code:count]                      0:4159  200:1841  
Error Set:
Get "http://cafe.example.com/coffee": read tcp 10.138.0.105:42937->10.138.0.16:80: read: connection reset by peer
Get "http://cafe.example.com/coffee": read tcp 10.138.0.105:46913->10.138.0.16:80: read: connection reset by peer
Get "http://cafe.example.com/coffee": read tcp 10.138.0.105:59115->10.138.0.16:80: read: connection reset by peer
Get "http://cafe.example.com/coffee": dial tcp 0.0.0.0:0->10.138.0.16:80: connect: connection refused
Get "http://cafe.example.com/coffee": context deadline exceeded (Client.Timeout exceeded while awaiting headers)
```

![http-plus.png](http-plus.png)

## Test: Send https /tea traffic

```text
Requests      [total, rate, throughput]         6000, 100.01, 21.19
Duration      [total, attack, wait]             1m27s, 59.994s, 26.888s
Latencies     [min, mean, 50, 90, 95, 99, max]  361.283µs, 12.049s, 5.223s, 30.001s, 30.001s, 30.001s, 30.005s
Bytes In      [total, mean]                     284125, 47.35
Bytes Out     [total, mean]                     0, 0.00
Success       [ratio]                           30.68%
Status Codes  [code:count]                      0:4159  200:1841  
Error Set:
Get "https://cafe.example.com/tea": read tcp 10.138.0.105:36439->10.138.0.16:443: read: connection reset by peer
Get "https://cafe.example.com/tea": read tcp 10.138.0.105:52115->10.138.0.16:443: read: connection reset by peer
Get "https://cafe.example.com/tea": read tcp 10.138.0.105:37505->10.138.0.16:443: read: connection reset by peer
Get "https://cafe.example.com/tea": dial tcp 0.0.0.0:0->10.138.0.16:443: connect: connection refused
Get "https://cafe.example.com/tea": context deadline exceeded (Client.Timeout exceeded while awaiting headers)
```

![https-plus.png](https-plus.png)
